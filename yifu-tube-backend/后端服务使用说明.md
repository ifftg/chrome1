# 易弗YouTube下载器 - 后端服务使用说明

## 🚀 快速启动

### 方法一：使用启动脚本（推荐）
1. 双击 `start-backend.bat` 文件
2. 等待看到服务启动成功的消息
3. **保持窗口开启**，最小化即可

### 方法二：手动启动
1. 打开PowerShell
2. 切换到后端目录：`cd D:\iff_Ai\ai_claudecode_1\yifu-tube-backend`
3. 执行：`npm start`

## ⚠️ 重要注意事项

### 关于终端窗口
- **❌ 不能关闭终端窗口** - 关闭会停止服务
- **✅ 可以最小化窗口** - 放在任务栏即可
- **✅ 可以查看实时日志** - 了解下载状态

### 关于开机启动
- **每次重启电脑都需要重新启动后端**
- **建议创建桌面快捷方式** - 方便快速启动

## 🔧 创建桌面快捷方式

1. 右键桌面 → 新建 → 快捷方式
2. 位置输入：`D:\iff_Ai\ai_claudecode_1\yifu-tube-backend\start-backend.bat`
3. 名称：`YouTube下载器后端`
4. 完成后可修改图标

## 📊 服务状态检查

### 浏览器测试
访问：http://localhost:3000/api/test
- 看到JSON响应 = 服务正常
- 无法访问 = 服务未启动

### Chrome插件测试
1. 打开YouTube视频页面
2. 点击插件图标
3. 如果显示"后端服务连接失败" = 需要启动后端

## 🔄 常见操作

### 停止服务
- 在终端窗口按 `Ctrl+C`
- 或直接关闭终端窗口

### 重启服务
- 停止后重新运行启动脚本
- 或在终端重新执行 `npm start`

### 查看下载的文件
- 文件保存位置：`yifu-tube-backend\downloads\`
- 每次下载都会显示完整路径

## 🆘 故障排除

### 端口被占用
如果提示端口3000被占用：
```powershell
netstat -ano | findstr :3000
taskkill /F /PID [进程ID]
```

### yt-dlp版本过旧
定期更新yt-dlp.exe：
1. 访问：https://github.com/yt-dlp/yt-dlp/releases
2. 下载最新版本替换现有文件

### Node.js问题
确保安装了Node.js 16+：
```powershell
node --version
npm --version
```

## 💡 使用技巧

1. **保持后端运行** - 可以一直开着，用完再关
2. **监控下载日志** - 终端会显示详细的下载进度
3. **定期清理下载文件夹** - 避免占用过多磁盘空间
4. **使用推荐格式** - 优先选择"推荐格式（直接下载）"

---

**记住：后端服务就像一个小型服务器，需要保持运行才能为Chrome插件提供服务！** 🎯