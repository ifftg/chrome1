# 调试步骤指南

## 🔍 问题排查步骤

### 1. 重新加载插件
```
1. 打开 chrome://extensions/
2. 找到"易弗YouTube视频下载"插件
3. 点击刷新按钮🔄
4. 确认插件状态为"已启用"
```

### 2. 打开调试控制台
```
1. 点击插件图标打开弹窗
2. 右键点击弹窗空白区域
3. 选择"检查" 或 "Inspect"
4. 切换到"Console"标签页
```

### 3. 检查初始化日志
在控制台中应该看到：
```
DOM加载完成，检查元素:
urlInput: true
parseBtn: true
downloadBtn: true
开始初始化插件...
基础解析器初始化成功
绑定事件监听器...
```

### 4. 测试按钮点击
```
1. 在URL输入框中输入：https://www.youtube.com/watch?v=dQw4w9WgXcQ
2. 点击"解析视频"按钮
3. 观察控制台输出
```

### 5. 预期的调试输出
点击按钮后应该看到：
```
解析按钮被点击
parseVideo函数被调用
输入的URL: https://www.youtube.com/watch?v=dQw4w9WgXcQ
URL格式验证通过
开始解析视频: https://www.youtube.com/watch?v=dQw4w9WgXcQ
```

## 🚨 常见问题诊断

### 问题1：没有看到初始化日志
**可能原因：**
- 脚本加载失败
- 控制台没有正确打开
- 插件没有正确重新加载

**解决方法：**
- 确保重新加载了插件
- 检查是否有JavaScript错误
- 确认popup.js文件存在

### 问题2：看到"YouTubeParser类未定义"
**可能原因：**
- youtube-parser.js文件没有加载
- 文件路径错误
- 脚本加载顺序问题

**解决方法：**
- 检查popup.html中的脚本引用顺序
- 确认youtube-parser.js文件存在

### 问题3：按钮点击没有响应
**可能原因：**
- 事件绑定失败
- 元素获取失败
- JavaScript错误中断执行

**解决方法：**
- 检查控制台是否有错误信息
- 确认看到"绑定事件监听器..."日志
- 手动点击测试

### 问题4：URL验证失败
**可能原因：**
- URL格式不正确
- 正则表达式问题

**解决方法：**
- 使用标准的YouTube URL格式
- 检查控制台中的URL输出

## 📋 测试清单

- [ ] 插件已重新加载
- [ ] 控制台已打开
- [ ] 看到初始化成功日志
- [ ] 输入测试URL
- [ ] 点击解析按钮
- [ ] 看到按钮点击日志
- [ ] 看到parseVideo函数调用日志
- [ ] URL验证通过

## 🔧 如果仍然有问题

请提供以下信息：
1. 控制台的完整输出（截图或文字）
2. 是否看到任何错误信息
3. 在哪一步停止工作了
4. 浏览器版本信息

这样我可以进一步定位问题所在。